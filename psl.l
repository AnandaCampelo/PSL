%{
#include "psl.tab.h"
#include <string.h>
#include <stdlib.h>
%}

%%
"âœï¸"          return USER;
"ğŸ›‘"          return END;
"âœ‹"          return DECLARE;
"ğŸ’…"          return NUMTYPE;
"ğŸ“œ"          return STRTYPE;   // Usamos ğŸ“œ para evitar conflito com âœï¸
"ğŸ‘‰"          return ASSIGN;
"ğŸ‘†"          return ADD;
"ğŸ‘‡"          return SUB;
"ğŸ«´"          return MULT;
"ğŸ«³"          return DIV;
"â˜ï¸"          return PRINT;
"ğŸ«µ"          return INPUT;
"ğŸ¤"          return BIND;
"âœŠ"          return IF;
"ğŸ¤Œ"          return WHILE;
"ğŸ–ï¸"          return BLOCK_START;
"ğŸ–ï¸"          return BLOCK_END;
"ğŸ¦¾"          return SEARCH;
"ğŸª¬"          return HISTORY;

"ğŸ‘"          return EQ;
"ğŸ‘‹"          return NEQ;
"ğŸ¤œ"          return GT;
"ğŸ¤›"          return LT;
"ğŸ¤œğŸ¤"        return GTE;
"ğŸ¤›ğŸ¤"        return LTE;

\"[^\"]*\"    {
    yytext[yyleng - 1] = '\0';               // remove aspas finais
    yylval.str = strdup(yytext + 1);         // ignora aspas iniciais
    return STRING;
}
[0-9]+        { yylval.num = atoi(yytext); return NUMBER; }
[A-Za-z_][A-Za-z0-9_]*  { yylval.str = strdup(yytext); return IDENTIFIER; }

[ \t\n]+      ;  // Ignora espaÃ§os
.             { printf("Caractere inesperado: %s\n", yytext); return -1; }
%%